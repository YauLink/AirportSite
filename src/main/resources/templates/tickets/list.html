<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Tickets</title>
  <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
  <body>
    <div class="container">
      <h1>Tickets</h1>

      <div class="table-wrapper">
        <table>
          <thead>
          <tr>
            <th>Ticket No</th>
            <th>Book Ref</th>
            <th>Passenger ID</th>
            <th>Passenger Name</th>
            <th>Contact Data</th>
            <th>Actions</th>
          </tr>
          </thead>
          <tbody>
          <tr th:each="ticket : ${tickets}">
            <td th:text="${ticket.ticketNo}"></td>
            <td th:text="${ticket.passengerId}"></td>
            <td th:text="${ticket.passengerName}"></td>
            <td th:text="${ticket.contactData}"></td>
            <td>
              <a th:href="@{/tickets/{ticketNo}/edit(ticketNo=${ticket.ticketNo})}" class="btn">Edit</a>
              <form th:action="@{/tickets/{ticketNo}/delete(ticketNo=${ticket.ticketNo})}" method="post" style="display:inline">
                <button type="submit" class="btn" style="background:#dc3545;"
                        onclick="return confirm('Delete this ticket?')">Delete</button>
              </form>
            </td>
          </tr>
          </tbody>
        </table>
        <div class="pagination" style="margin-top: 15px; text-align: center;">
          <a th:if="${currentPage > 0}"
             th:href="@{/tickets(page=${currentPage - 1})}"
             class="btn">Previous</a>

          <span style="margin: 0 10px;">
              Page [[${currentPage + 1}]] of [[${totalPages}]]
          </span>

          <a th:if="${currentPage + 1 < totalPages}"
             th:href="@{/tickets(page=${currentPage + 1})}"
             class="btn">Next</a>
        </div>
      </div>
    </div>
  </body>
</html>